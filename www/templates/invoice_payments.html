<style type="text/css">
.separator{
  border-left:1px solid #A9A9AA;
  width:1px;
  height:70px;
  margin:0 10px;
}

.status{  
  
  padding : 5px 10px;
  border:1px solid black;
  width:80px;
  height:80px;
  text-align: center;
  border-radius:50%;
  -webkit-border-radius:100%;
  border:2px solid #fff;  
  /*-webkit-box-shadow:inset 0px 0px 5px #202021;*/
  -webkit-box-shadow:0px 0px 5px #202021,inset 0px 0px 25px #933100;
  /*-webkit-box-shadow: 0 0 0 2px #33302A, 0 0 0 2px white;*/  
  color:#FFFFFF;
  margin-top:10px;

 


  /*line-height:50p;*/
  
}
/*.status:after{
 content:'sds';
 position: absolute;
 border:2px solid #953707;
 border-radius:50%;
 width:70px;
  height:70px;
  padding : 5px 10px;
  margin:2px;
 
}*/
/*div.bg_blur{
  background:black url(https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcT6l0xAW1T8zVZZUK6y8AuJ3V2vhKvxWdJzaQDPxJyPFqnccg2gYQ);
}*/
/*html .bar_b:before {
  background: black url(http://cdn.css-tricks.com/images/forums-bg.png) repeat 50% 100% fixed;
}*/
/*.bar_b {
  float: left;
  margin: 5px;
  text-align: center;
  color: #000;
  text-shadow: 0px 1px 2px rgba(0,0,0,0.25);
  line-height: 5em;
  position: relative;
  height: 5em;
  width: 200px;
  background: rgba(190,220,250,0.5);
  border-top: 1px solid rgba(250,253,255,0.2);
  box-shadow: 0px 0px 5px rgba(0,0,0,0.2);
  border-radius: 4px;
}

.bar_b:before {
  content: '';
  position: absolute;
  z-index: -1;
  height: 100%;
  top: 0; right: 0; left: 0;
  filter: blur(5px);
  -webkit-filter: blur(5px);
  -moz-filter: blur(5px);
  -o-filter: blur(5px);
  -ms-filter: blur(5px);
}*/
/*.line_b{
  height:1px;
  width:100%;
  background: #fff;
  position:absolute;
  margin-top:50px;

}*/
</style>


<ion-view title="INVOICE PAYMENTS">

    <!--navigation button on top-->
    <ion-nav-buttons side="left">
        <button menu-toggle="left"class="button button-icon icon ion-android-arrow-back"></button>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
        <button menu-toggle="right" class="button button-icon icon ion-android-arrow-forward"></button>
    </ion-nav-buttons>
<div ng-controller="Invoice" ng-app="invoiceModule">
    <!-- content-->
    <ion-content class="has-header">
        <ion-refresher
        pulling-text="Pull to refresh..."
        on-refresh="doRefresh()">
        </ion-refresher>
        <div class="ft-container">
        <div style="height:100px;padding:2px;background: #C66C66;display: -webkit-box;
  display: -moz-box;
  display: box;

  -webkit-box-pack: justify;
  -moz-box-pack: justify;
  box-pack: justify;">
        <!-- background:url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS7g0BDFz6uX81SqQhS9wvZkuu9qRpEMIHnKp3R3wlLOWPzxgnOnw) no-repeat center center;-webkit-background-size: cover;-moz-background-size: cover;-o-background-size: cover;background-size: cover; -->
        <!-- <div class='bar_b'>Blurred glass effect</div> -->
        <!-- <div class="line_b"></div> -->
        <div class="status"><strong>Total</strong><br/>RM {{total_due}}</div>
                 <div class="status"><strong>Due</strong><br/>RM {{due}}</div>
                  <div class="status"><strong>Paid</strong><br/>RM {{paid_invoice}}</div>
        </div>
            <ion-list>
            <!-- <div class="card bg_blur">
  
              <div class="item item-text-wrap" style="height: 1%; overflow: hidden;">
                <div class="status">Total Due<br/>RM {{total_due}}</div>
                 <div class="status">Due<br/>RM {{due}}</div>
                  <div class="status">Paid<br/>RM {{paid_invoice}}</div>
                

              </div>
              
            </div> -->
              <ion-item ng-repeat="invoice in invoice_payments">
               <h3><strong>{{$index + 1}}. <i class="icon ion-ios-pricetags"></i>  Pay By :</strong> {{invoice.payment_method}} 
               <a ng-click="modal_payment_show(invoice,'edit', 'Edit Invoice Payment')" style="float:right"><i class="icon ion-android-create"></i></a> 
               <a ng-click="deletePayment(invoice)" style="float:right"><i class="icon ion-ios-trash-outline"></i></a>
               </h3>

               <div style="margin-left:25px">
                  <div style="">
                    <h3>
                    <i class="icon ion-ios-arrow-thin-right"></i> 
                    <strong>Payment Date</strong> : {{invoice.invoice_payment_date}}
                    <h3>
                  </div>
                  <div style="">
                    <h3>
                    <i class="icon ion-ios-arrow-thin-right"></i> 
                    <strong>Payment Amount</strong> : {{invoice.invoice_payment_amount}}
                    <h3>
                  </div>
                  
                  
                
                    
                 <span >
                    <span><i class="icon ion-ios-more-outline"></i> <i class="icon ion-ios-more-outline"></i></span>
                      <br/>
                    <span style="overflow:inherit;text-overflow:inherit;white-space:normal;" >{{invoice.invoice_payment_note}}</span>
                </span> 
               </div>
              </ion-item>

            </ion-list>
            <script id="modal_payments.html" type="text/ng-template">
                      <ion-modal-view >
                        <ion-header-bar class="bar bar-header bar-positive">
                          <h1 class="title">{{myModal.title}}</h1>
                          <button class="button button-clear button-primary" ng-click="modal_payment_hide('{{myModal.type}}')">Cancel</button>
                        </ion-header-bar>
                        <ion-content class="padding">
                              
                              <!--<button class="button button-small button-energized" ng-click="modal_product.show()">Choose from product</button>-->
<br/>              <div class="list">
                          
                            <label class="item item-input" >
                              <i class="icon ion-ios-list-outline" data-pack="default"></i>
                              <span class="input-label">Amount</span>
                              <input ng-model="formData.invoice_payment_amount"  type="text" >
                            </label>
                            

                            <label class="item item-input">
                              <i class="icon ion-ios-calendar-outline" data-pack="default"></i>  
                              <span class="input-label">Date</span>
                              <input ng-model="formData.invoice_payment_date" type="date">                              
                            </label>

                            <label class="item item-input item-select">
                              <i class="icon ion-android-share" data-pack="default"></i>
                              <span class="input-label">Method</span>
                              <select ng-model="formData.payment_id">
                                     <option ng-repeat="payment in payment_methods" value="{{payment.payment_id}}">{{payment.payment_method}}</option>        
                              </select>
                            </label>

                            <label class="item item-input">                              
                              <i class="icon ion-ios-folder-outline" data-pack="default"></i>
                              <span class="input-label">Note</span>
                              <input ng-model="formData.invoice_payment_note" type="text" ng-keyup="kira()">
                           </label>                           

                            <input ng-model="invoice_id" type="text">
                            <input ng-model="invoice_status" type="text">
                            <input ng-model="formData.invoice_payment_id" type="text">


                            <button class="button button-full button-positive" ng-click="addInvoicePaymentData(formData)" ng-show="add_button" ng-init="false">Add Item</button>
                            <button class="button button-full button-positive" ng-click="editInvoicePaymentData()" ng-show="edit_button" ng-init="false">Save</button>
                          </div>
                        </ion-content>
                      </ion-modal-view>
                    </script>


                    
                    <br/>
                    <br/>
                    <br/>
        </div>
</ion-content>
  <div class="tabs tabs-icon-only">
   <a class="tab-item">
    <i class="icon ion-arrow-left-b" ng-click="backToInvoiceItem()"></i>
  </a>
   <a class="tab-item">
    <i class="icon ion-plus-circled" ng-click="modal_payment_show('','add','Add Payment')"></i>
  </a>
  <a class="tab-item">
    <i class="icon ion-calculator" ng-click="goToListPayment({{formData.invoice_id}})"></i>
  </a>
</div>
</ion-view>
</div>






